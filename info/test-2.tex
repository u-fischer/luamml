% !Mode:: "TeX:DE:UTF-8:Main"
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\DocumentMetadata{uncompress,pdfversion=2.0,testphase={phase-III,math,table},xmp=false}
\documentclass{article}
\usepackage{unicode-math}
\usepackage{luamml}
\begin{document}
\ExplSyntaxOn
% redefine \sin so that it uses mo.
\cs_set_protected:Npn\sin{
 \luamml_annotate:nen{1}{
 nucleus = true,
 core = {[0] = 'mo', 'sin'}
 }{\operatorname{sin}}}
% this produces structure elements in the PDF 
\luamml_flag_structelem: 
\luamml_set_filename:n {test-mathml-2.txt} 
\ExplSyntaxOff
$\sin x$ 

\end{document}
